#!/usr/bin/ruby
require_relative '../lib/parser.rb'
require_relative '../lib/read_file.rb'

parser = Parser.new

file = ReadFile.new(ARGV.first)
file.content.each_with_index { |line, index|
  parser.next_line(line)
  process_comment = parser.check_comment
  unless process_comment
    parser.trailing_space
    parser.remove_comment
    parser.check_new_line
    parser.check_block
    parser.check_end_char
  end
}

p parser.errors